Workflow
========

:Test-Layer: functional

Check the initialization of the workflow
----------------------------------------

Let's first create an instance of Uvcsite at the top level:

   >>> import grok
   >>> from uvcsite.app import Uvcsite
   >>> from uvcsite import IContent
   >>> root = getRootFolder()
   >>> root['app'] = Uvcsite()

   >>> class MyContent(grok.Model):
   ...     grok.implements(IContent)
   ...     pass

   >>> content = MyContent()
   >>> content
   <MyContent object at ...>

Now we can get our WorkflowVersions Utility?

   >>> from zope.component import getUtility
   >>> from hurry.workflow.interfaces import IWorkflowVersions
   >>> wv = getUtility(IWorkflowVersions)
   >>> wv
   <uvcsite.workflow.basic_workflow.MyWorkflowVersions object at ...>

At this point we don't have any versions

   >>> len(wv.versions)
   0

Let's add a Version to the utility:

   >>> wv.addVersion(content)
   >>> len(wv.versions)
   1

   >>> wv.hasVersionId(1)
   False
